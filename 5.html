<!DOCTYPE html>
<html lang="en">
<head>
    <title>WPLab, Program 5 - Form Validation</title>
    <script type="text/javascript">
        var divs = new Array();
        divs[0] = "errFirst";
        divs[1] = "errLast";
        divs[2] = "errEmail";
        divs[3] = "errUid";
        divs[4] = "errPassword";
        divs[5] = "errConfirm";
        function validate() 
        {
            var inputs = new Array();
            inputs[0] = document.getElementById('first').value;
            inputs[1] = document.getElementById('last').value;
            inputs[2] = document.getElementById('email').value;
            inputs[3] = document.getElementById('uid').value;
            inputs[4] = document.getElementById('password').value;
            inputs[5] = document.getElementById('confirm').value;
            var errors = new Array();
            errors[0] = "<span style='color:red'>Please enter your First Name</span > ";
            errors[1] = "<span style='color:red'>Please enter your Last Name</span > ";
            errors[2] = "<span style='color:red'>Please enter your email ID</span > ";
            errors[3] = "<span style='color:red'>Please enter your User ID</span > ";
            errors[4] = "<span style='color:red'>Please enter your Password</span > ";
            errors[5] = "<span style='color:red'>Please confirm your Password</span > ";
            for (i in inputs) 
            {
                var div = divs[i];
                if (inputs[i] == "") 
                {
                    document.getElementById(div).innerHTML = errors[i];
                }
                else if (i == 2) 
                {
                    var reg = /^([a-zA-Z0-9-\._]+)@([a-zA-Z0-9]+)\.([a-z]+)(\.[a - z] +)?$/;
                    if (reg.test(inputs[i]))
                        document.getElementById(div).innerHTML = "OK!";
                    else
                        document.getElementById('errEmail').innerHTML ="<span style='color: red'> Please enter a valid email address :/</span>";
                }
                else if (i == 5) 
                {
                    if (inputs[4] != inputs[5])
                        document.getElementById('errConfirm').innerHTML ="<span style='color: red'>Entered password does not match :/</span>";
                    else
                        document.getElementById(div).innerHTML = "Ok!";
                }
                else 
                {
                    document.getElementById(div).innerHTML = "Ok!";
                }
            }
        }

        function finalValidate() 
        {
            var count = 0;
            for (i = 0; i < 6; i++) 
            {
                var div = divs[i];
                if (document.getElementById(div).innerHTML == "Ok!")
                    count = count + 1;
            }
            if (count == 6)
                document.getElementById("errFinal").innerHTML = "All entered data is valid and correct! ";
        }
    </script>
</head>

<body bgcolor="linen">
    <table id="tablel">
    <tr>
        <td>First Name:</td>
        <td><input type="text" id="first" onkeyup="validate();" /></td>
        <td>
        <div id="errFirst"></div>
        </td>
    </tr>
    <tr>
        <td>Last Name:</td>
        <td><input type="text" id="last" onkeyup="validate();" /></td>
        <td>
        <div id="errLast"></div>
        </td>
    </tr>
    <tr>
        <td>Email:</td>
        <td><input type="text" id="email" onkeyup="validate();" /></td>
        <td>
        <div id="errEmail"></div>
        </td>
    </tr>
    <tr>
        <td>User Id:</td>
        <td><input type="text" id="uid" onkeyup="validate();" /></td>
        <td>
        <div id="errUid"></div>
        </td>
    </tr>
    <tr>
        <td>Password: </td>
        <td><input type="password" id="password" onkeyup="validate();" /></td>
        <td>
        <div id="errPassword"></div>
        </td>
    </tr>
    <tr>
        <td>Confirm Password:</td>
        <td><input type="password" id="confirm" onkeyup="validate();" /></td>
        <td>
        <div id="errConfirm"></div>
        </td>
    </tr>
    <tr>
        <td><input type="submit" id="create" value="Submit" onclick="validate(); finalValidate();" /></td>
        <td>
        <div id="errFinal"></div>
        </td>
    </tr>
    </table>
</body>

</html>
